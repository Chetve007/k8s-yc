openssl req -x509 -newkey rsa:4096 -nodes \
  -keyout key.pem \
  -out cert.pem \
  -days 365 \
  -subj '/CN=ingress.yc-k8s-course'


В данном файле конфигурации:
- x509 — результат работы команды будет файлом сертификата;
- newkey — команда для создания новых файлов приватного ключа;
- rsa:4096 — алгоритм и длина ключа;
- nodes — команда, которая сообщает, что не нужно шифровать файл приватного ключа;
- keyout — имя файла, в котором будет сохранён приватный ключ;
- out — имя файла сертификата;
- days — срок действия сертификата;
- subj — значение Common Name владельца сертификата.



Как добавить пользовательский сертификат с помощью CLI-команд (в YC)

yc certificate-manager certificate create \
  --name ingress-cert \
  --chain cert.pem \
  --key key.pem

В данном файле конфигурации:
--name — имя сертификата;
--chain — путь к файлу цепочки сертификатов;
--key — путь к файлу закрытого ключа сертификата.


Проверить список сертификатов из командной строки можно, применив команду:
yc certificate-manager certificate list